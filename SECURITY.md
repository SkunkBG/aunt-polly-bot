# üõ°Ô∏è –ó–∞—â–∏—Ç–∞ Aunt Polly Bot

–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∑–∞—â–∏—Ç—ã –±–æ—Ç–∞ –æ—Ç —Å–ø–∞–º–∞, DDoS –∏ –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.

## üìä –£—Ä–æ–≤–Ω–∏ –∑–∞—â–∏—Ç—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ò–ù–¢–ï–†–ù–ï–¢                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üîí –£–†–û–í–ï–ù–¨ 1: Reverse Proxy (Nginx/Caddy)                  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Rate Limiting (10 req/sec per IP)                      ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Connection Limits (10 conn per IP)                     ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ IP Whitelist (—Ç–æ–ª—å–∫–æ Telegram —Å–µ—Ä–≤–µ—Ä—ã)                 ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ SSL/TLS —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è                                     ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –ó–∞—â–∏—Ç–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏                                     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üîê –£–†–û–í–ï–ù–¨ 2: Webhook Secret Token                         ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-Telegram-Bot-Api-Secret-Token     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üõ°Ô∏è –£–†–û–í–ï–ù–¨ 3: Rate Limiter (–≤ –±–æ—Ç–µ)                        ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Token Bucket –∞–ª–≥–æ—Ä–∏—Ç–º                                  ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Per-user limiting (5 req/sec)                          ‚îÇ
‚îÇ  ‚îú‚îÄ‚îÄ Antiflood (min 0.5 sec –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏)             ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ Auto-ban (50 –Ω–∞—Ä—É—à–µ–Ω–∏–π ‚Üí –±–∞–Ω –Ω–∞ 1 —á–∞—Å)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                            ‚îÇ
                            ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  üë§ –£–†–û–í–ï–ù–¨ 4: User Manager                                  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ –†—É—á–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üöÄ –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. Webhook Secret Token

–í —Ñ–∞–π–ª–µ `.env`:
```env
WEBHOOK_SECRET_TOKEN=your_super_secret_token_here_32chars
```

–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞:
```bash
openssl rand -hex 32
```

### 2. –í—ã–±–æ—Ä Reverse Proxy

#### –í–∞—Ä–∏–∞–Ω—Ç A: Caddy (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã)

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –¥–æ–º–µ–Ω –≤ Caddyfile
nano Caddyfile

# –ó–∞–ø—É—Å–∫–∞–µ–º
docker-compose --profile caddy up -d
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS (Let's Encrypt)
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

#### –í–∞—Ä–∏–∞–Ω—Ç B: Nginx (–±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è)

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nano nginx/nginx.conf

# –ü–æ–ª—É—á–∞–µ–º SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
docker-compose run --rm certbot certonly \
  --webroot -w /var/www/certbot \
  -d yourdomain.com

# –ó–∞–ø—É—Å–∫–∞–µ–º
docker-compose --profile nginx up -d
```

–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω—ã–π rate limiting
- ‚úÖ IP whitelist
- ‚úÖ –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Rate Limiting

### –í settings.json:

```json
{
    "rate_limit_global": 100,
    "rate_limit_user": 5,
    "rate_limit_burst": 10,
    "antiflood_rate": 0.5,
    "auto_ban_threshold": 50,
    "auto_ban_duration": 3600
}
```

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|----------|--------------|
| `rate_limit_global` | –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç req/sec | 100 |
| `rate_limit_user` | –õ–∏–º–∏—Ç –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è req/sec | 5 |
| `rate_limit_burst` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π burst | 10 |
| `antiflood_rate` | –ú–∏–Ω. –∏–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (—Å–µ–∫) | 0.5 |
| `auto_ban_threshold` | –ù–∞—Ä—É—à–µ–Ω–∏–π –¥–æ –∞–≤—Ç–æ–±–∞–Ω–∞ | 50 |
| `auto_ban_duration` | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–Ω–∞ (—Å–µ–∫) | 3600 |

---

## üîí Nginx: Rate Limiting

### –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–≤ nginx.conf):

```nginx
# –ó–æ–Ω—ã rate limiting
limit_req_zone $binary_remote_addr zone=bot_limit:10m rate=10r/s;
limit_conn_zone $binary_remote_addr zone=conn_limit:10m;

# –í location:
location /bot/ {
    limit_req zone=bot_limit burst=20 nodelay;
    limit_conn conn_limit 10;
    proxy_pass http://bot_backend;
}
```

### –£—Ä–æ–≤–Ω–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ—Å—Ç–∏:

**–ú—è–≥–∫–∏–π (–¥–ª—è –Ω–∞—á–∞–ª–∞):**
```nginx
limit_req_zone $binary_remote_addr zone=bot_limit:10m rate=30r/s;
limit_req zone=bot_limit burst=50 nodelay;
```

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π:**
```nginx
limit_req_zone $binary_remote_addr zone=bot_limit:10m rate=10r/s;
limit_req zone=bot_limit burst=20 nodelay;
```

**–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π (–ø—Ä–∏ –∞—Ç–∞–∫–µ):**
```nginx
limit_req_zone $binary_remote_addr zone=bot_limit:10m rate=2r/s;
limit_req zone=bot_limit burst=5 nodelay;
```

---

## üåê IP Whitelist (—Ç–æ–ª—å–∫–æ Telegram)

Telegram –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ IP-–¥–∏–∞–ø–∞–∑–æ–Ω—ã:
- `149.154.160.0/20`
- `91.108.4.0/22`
- `91.108.8.0/22`
- `91.108.12.0/22`
- `91.108.16.0/22`
- `91.108.20.0/22`
- `91.108.56.0/22`

### Nginx:

```nginx
# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é
geo $is_telegram {
    default 0;
    149.154.160.0/20 1;
    91.108.4.0/22 1;
    # ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ
}

# –í location:
location /bot/ {
    if ($is_telegram = 0) {
        return 403;
    }
    proxy_pass http://bot_backend;
}
```

### Caddy:

```caddyfile
@telegram_ips {
    remote_ip 149.154.160.0/20 91.108.4.0/22
}

handle /bot/* {
    @not_telegram not remote_ip 149.154.160.0/20 91.108.4.0/22
    respond @not_telegram 403
    reverse_proxy aunt-polly-bot:8081
}
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Health Check Endpoint

```bash
curl http://localhost:8081/health
```

–û—Ç–≤–µ—Ç:
```json
{
    "status": "ok",
    "rate_limiter": {
        "total_requests": 1234,
        "rate_limited": 56,
        "banned": 2,
        "active_users": 100,
        "banned_users": 2
    }
}
```

### Nginx Status

```bash
curl http://localhost/nginx_status
```

### –õ–æ–≥–∏

```bash
# Nginx
tail -f logs/nginx/access.log
tail -f logs/nginx/error.log

# Caddy
tail -f logs/caddy/bot_access.log

# Bot
docker-compose logs -f aunt-polly-bot
```

---

## üö® –ü—Ä–∏ –∞—Ç–∞–∫–µ

### 1. –í—Ä–µ–º–µ–Ω–Ω–æ —É–∂–µ—Å—Ç–æ—á–∏—Ç—å –ª–∏–º–∏—Ç—ã

–í `nginx/nginx.conf`:
```nginx
limit_req_zone $binary_remote_addr zone=bot_limit:10m rate=1r/s;
limit_req zone=bot_limit burst=3 nodelay;
```

### 2. –í–∫–ª—é—á–∏—Ç—å IP whitelist

–†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É IP Telegram –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

### 3. –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π IP

```nginx
# –í http –±–ª–æ–∫–µ
deny 1.2.3.4;
```

### 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Fail2Ban

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
apt install fail2ban

# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è nginx
cat > /etc/fail2ban/jail.d/nginx-bot.conf << EOF
[nginx-bot]
enabled = true
filter = nginx-bot
action = iptables-multiport[name=nginx-bot, port="http,https"]
logpath = /path/to/logs/nginx/access.log
maxretry = 30
findtime = 60
bantime = 3600
EOF

# –§–∏–ª—å—Ç—Ä
cat > /etc/fail2ban/filter.d/nginx-bot.conf << EOF
[Definition]
failregex = ^<HOST> .* "POST /bot/.*" 429
ignoreregex =
EOF

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart fail2ban
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω WEBHOOK_SECRET_TOKEN
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω HTTPS (Caddy –∏–ª–∏ Nginx + Let's Encrypt)
- [ ] –í–∫–ª—é—á–µ–Ω rate limiting –Ω–∞ reverse proxy
- [ ] –í–∫–ª—é—á–µ–Ω rate limiting –≤ –±–æ—Ç–µ
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ Docker
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –∏ —Ä–æ—Ç–∏—Ä—É—é—Ç—Å—è
- [ ] –ï—Å—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ /health endpoint
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# –õ–æ–≥–∏ –±–æ—Ç–∞
docker-compose logs -f aunt-polly-bot

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å –Ω–æ–≤–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
docker-compose down && docker-compose --profile nginx up -d

# –¢–µ—Å—Ç webhook
curl -X POST https://yourdomain.com/bot/test \
  -H "Content-Type: application/json" \
  -d '{}'

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SSL
openssl s_client -connect yourdomain.com:443

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ rate limiting
curl http://localhost:8081/health | jq .rate_limiter
```
